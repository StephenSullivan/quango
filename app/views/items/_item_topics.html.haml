-cache("trending_topics_#{current_group.id}") do

  %div{:style=>"width:468px;height:26px;line-height:26px; float:right"}
    %div{:style=>"width:208px;height:26px;line-height:26px; float:left"}
      %div{:style=>"float:left; float:left"}
        %span{:style=>"float:left; width:208px"}
          %marquee{ :behavior => 'scroll',:scrollamount => '1',}
            = self.item_topics

    %div{:style=>"float:right;width:234px;"}
      -if @mode
        = render :partial => "items/create_button"
      -else
        = "no mode"

  %div{:style=>"width:468px;height:26px;line-height:26px; float:left"}
    .primary-title
      %h1
        .item
          = @mode
        = @item


%script
  = "$(function() {"
  = "//$('marquee').marquee();"
  = "$('marquee').marquee('pointer').mouseover(function () {"
  = "       $(this).trigger('stop');"
  = "   }).mouseout(function () {"
  = "       $(this).trigger('start');"
  = "   }).mousemove(function (event) {"
  = "       if ($(this).data('drag') == true) {"
  = "           this.scrollLeft = $(this).data('scrollX') + ($(this).data('x') - event.clientX);"
  = "       }"
  = "   }).mousedown(function (event) {"
  = "       $(this).data('drag', true).data('x', event.clientX).data('scrollX', this.scrollLeft);"
  = "   }).mouseup(function () {"
  = "       $(this).data('drag', false);"
  = "   });"
  = "});"
