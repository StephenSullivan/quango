-cache("trending_topics_#{current_group.id}") do
  %div{:style=>"width:962px;height:26px;line-height:26px"}

    %div{:style=>"float:left; width:702px; margin-bottom:7px;"}
      %span{:style=>"float:left; width:20%; color:white"}
        -if @mode
          = @mode.capitalize.to_s << " trends"
        -else
          = "Trends: "
      %span{:style=>"float:right; width:80%"}
        %marquee{ :behavior => 'scroll',:scrollamount => '1',}
          = self.item_topics

    %div{:style=>"float:right;width:234px;"}
      -if @mode
        = render :partial => "items/create_button"
      -else
        = "no mode"

  .clear

%script
  = "$(function() {"
  = "//$('marquee').marquee();"
  = "$('marquee').marquee('pointer').mouseover(function () {"
  = "       $(this).trigger('stop');"
  = "   }).mouseout(function () {"
  = "       $(this).trigger('start');"
  = "   }).mousemove(function (event) {"
  = "       if ($(this).data('drag') == true) {"
  = "           this.scrollLeft = $(this).data('scrollX') + ($(this).data('x') - event.clientX);"
  = "       }"
  = "   }).mousedown(function (event) {"
  = "       $(this).data('drag', true).data('x', event.clientX).data('scrollX', this.scrollLeft);"
  = "   }).mouseup(function () {"
  = "       $(this).data('drag', false);"
  = "   });"
  = "});"
