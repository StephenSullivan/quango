
- content_for :custom_javascript do
  -require_js "jquery.min"
  -require_js "jquery.textarea"
  -require_js "showdown"
  -require_js "modules/editor"

- content_for :css do
  -require_css "editor"

-if logged_in?

  .inset{:style=>"margin:8px 0 16px 0;"}
    .entry-title{:style=>"width:100%;height:32px; line-height:32px; margin-bottom:4px;"}
      = "Please answer this question..."
    .form

      = f.hidden_field :mode, :value=> local_assigns[:mode]

      -opts = {:class => "text_area_mobile_edit", :id => "markdown_editor", :style=>"width:480px;"}

      = f.text_area :body, opts

      -if logged_in?


        .answer-actions{:style => "line-height:32px; height: 32px; width: 100%; margin: 0 0 16px 0; padding 4px"}
          = submit_tag "Save", :class => "inner-button submit", :style => "width:256px; height:32px; float:right;font-size:1.5em;"
          .openedit{:style => "float:right; margin-right: 16px; display:none"}
            = f.label :wiki, "Anybody can edit? ", :class => "radio"
            = check_box :wiki, :class => "checkbox right"
          .clear
      .clear

      -if !local_assigns[:markdown] && !current_group.wysiwyg_editor
        %label.label
          = t("global.preview")
        #markdown_preview.markdown
          =markdown(@answer.body)

    -if !@answer.new?
      .group{:style => "display:none"}
        = f.label :version_message, t("wiki.model.attributes.message"), :class => "label"
        = f.text_field :version_message, :class => "text_field"


    .clear

-elsif !logged_in?
  .tip
    = "&nbsp;"
    .clear



